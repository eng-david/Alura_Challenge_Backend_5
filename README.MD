# ALURA CHALLENGE BACKEND #5

<p align='center'><img src='assets/logo.png' width=240 alt='logo'/></p>

## üöß Em Desenvolvimento üöß
API REST desenvolvida durante o challenge #05 de backend da Alura.

Esta API implementa as seguintes especifica√ß√µes:
1. Rotas no padr√£o REST com servi√ßo de autentica√ß√£o.
2. Valida√ß√µes feitas conforme as regras de neg√≥cio.
3. Base de dados para persist√™ncia das informa√ß√µes.
4. Servi√ßo de autentica√ß√£o Stateless com JWT para acesso √†s rotas GET, POST, PUT e DELETE.
5. Pagina√ß√£o das requisi√ß√µes.

## Regras de Neg√≥cio:
1. Todos os campos de v√≠deos e categorias devem ser obrigat√≥rios e validados.
2. A categoria com ID = 1, deve chamar LIVRE e caso ela n√£o seja especificada na cria√ß√£o do v√≠deo, ser√° atribu√≠do o ID = 1.
3. Endpoint "GET /videos/free" com um n√∫mero fixo de filmes dispon√≠vel, sem a necessidade de autentica√ß√£o.


## Rotas CRUD:

<table>
    <tr>
        <th>Method</th>
        <th>Route</th>
        <th>Description</th>
        <th>Body Param.</th>
        <th>Query Param.</th>
        <th>Necess√°rio Autentica√ß√£o</th>
    </tr>
    <tr>
        <td>POST</td>
        <td>/login</td>
        <td>Autentica e retorna o token JWT</td>
        <td>{"username","password"}</td>
        <td>-</td>
        <td>N√£o</td>
    </tr>
    <tr>
        <td>GET</td>
        <td>/videos/free</td>
        <td>Retorna videos livres</td>
        <td>-</td>
        <td>-</td>
        <td>N√£o</td>
    </tr>
    <tr>
        <td>GET</td>
        <td>/videos</td>
        <td>Retorna todos os v√≠deos</td>
        <td>-</td>
        <td>-</td>
        <td>Sim [USER]</td>
    </tr>
    <tr>
        <td>GET</td>
        <td>/videos/{id}</td>
        <td>Retorna video pelo id</td>
        <td>-</td>
        <td>video id</td>
        <td>Sim [USER]</td>
    </tr>
    <tr>
        <td>GET</td>
        <td>/videos/?search={nome}</td>
        <td>Buscar um v√≠deo pelo nome</td>
        <td>-</td>
        <td>nome a ser buscado</td>
        <td>Sim [USER]</td>
    </tr>
    <tr>
        <td>DELETE</td>
        <td>/videos/{id}</td>
        <td>Deleta video pelo id</td>
        <td>-</td>
        <td>video id</td>
        <td>Sim [ADMIN]</td>
    </tr>
    <tr>
        <td>POST</td>
        <td>/videos</td>
        <td>Cria um novo v√≠deo</td>
        <td>{"titulo","descricao","url","categoriaId"}</td>
        <td>-</td>
        <td>Sim [USER]</td>
    </tr>
    <tr>
        <td>PUT</td>
        <td>/videos/{id}</td>
        <td>Atualizar video</td>
        <td>{"titulo","descricao","url","categoriaId"}</td>
        <td>video id</td>
        <td>Sim [ADMIN]</td>
    </tr>
    <tr>
        <td>GET</td>
        <td>/categorias</td>
        <td>Retorna todas as categorias</td>
        <td>-</td>
        <td>-</td>
        <td>Sim [USER]</td>
    </tr>
    <tr>
        <td>GET</td>
        <td>/categorias/{id}</td>
        <td>Retorna categoria pelo id</td>
        <td>-</td>
        <td>categoria id</td>
        <td>Sim [USER]</td>
    </tr>
    <tr>
        <td>GET</td>
        <td>/categorias/{id}/videos</td>
        <td>Retorna todos os videos pertencentes a uma categoria</td>
        <td>-</td>
        <td>categoria id</td>
        <td>Sim [USER]</td>
    </tr>
    <tr>
        <td>DELETE</td>
        <td>/categorias/{id}</td>
        <td>Deleta categoria pelo id</td>
        <td>-</td>
        <td>categoria id</td>
        <td>Sim [ADMIN]</td>
    </tr>
    <tr>
        <td>POST</td>
        <td>/categorias</td>
        <td>Cria uma nova categoria</td>
        <td>{"titulo","cor"}</td>
        <td>-</td>
        <td>Sim [USER]</td>
    </tr>
    <tr>
        <td>PUT</td>
        <td>/categorias/{id}</td>
        <td>Atualizar categoria</td>
        <td>{"titulo","cor"}</td>
        <td>categoria id</td>
        <td>Sim [ADMIN]</td>
    </tr>
</table>

## Deploy:
Foi feito o Deploy da aplica√ß√£o como um servi√ßo Web na nuvem, utilizando a plataforma Amazon AWS.
<p align='center'><img src='assets/screenshot.png' alt='screenshot'/></p>


## Stack:
- `Linguagem Java`
- `Framework Spring Boot`
- `Maven`
- `Banco de Dados MySQL`
- `JJWT - Java Json Web Token`
- `JUnit`
- `Amazon AWS`

## Pendentes Semana 1:
- [X] Testes para verificar Status code das requisi√ß√µes GET, POST, PUT e DELETE.

## Pendentes Semana 2:
- [X] Adicionar categorias e seus campos na base de dados.
- [X] Rotas CRUD para /categorias.
- [X] Incluir campo categoriaId no modelo video.
- [X] Escrever os testes necess√°rios.

## Pendentes Semana 3:
- [X] Implementar uma rota para videos livres sem autentica√ß√£o.
- [X] Implementar um mecanismo de autentica√ß√£o na API.
- [X] Reimplementar os testes com base em autentica√ß√£o.
- [X] Realizar o deploy da API em algum provedor Cloud.